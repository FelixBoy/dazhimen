<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dazhimen.bg.bean.Recharge">
    <select id="getAllRechargeCount" resultType="dazhimen.bg.bean.SingleValueBean">
        select count(recid) as valueinfo from recharge where isdel = '0'
    </select>
    <select id="queryAllRecharge" resultType="dazhimen.bg.bean.ViewRechargeBean"
            parameterType="dazhimen.bg.bean.PaginationParamBean">
      select a.recid,a.recamount,b.cid,b.name cname,b.nickname cnickname,b.mphone,
              transaction_id,date_format(a.recdatetime,'%Y-%m-%d %H:%i:%s') recdatetime
        from recharge a,customer b
       where a.cid = b.cid
         and a.isdel = '0'
         order by a.recid
        limit #{startnum},#{getrows}
    </select>
</mapper>